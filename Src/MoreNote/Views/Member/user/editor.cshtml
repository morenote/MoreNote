@{
    Layout = "/Views/Member/_MemberLayout.cshtml";
    Dictionary<string, string> msg = ViewBag.msg;
    Dictionary<string, string> member = ViewBag.member;
    User user = ViewBag.user;
}
<div class="m-b-md"> <h3 class="m-b-none">Set Editor Preferences</h3></div>
<div class="row">
    <div class="col-sm-8">
        <form id="formData">
            <section class="panel panel-default">
                <div class="panel-body">
                    <div class="alert alert-danger" id="pwdMsg" style="display: none"></div>
                    <div class="form-group">
                        <label class="control-label" for="oldPwd">Markdon Editor </label>
                       <select id="mdEditor" class="form-select" aria-label="Default select example">
                            <option value="ace">ace</option>
                            <option value="vditor">vditor</option>
                           
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="control-label" for="pwd">Rich text editor</label>
                          <select id="rtEditor" class="form-select" aria-label="Default select example">
                            <option value="tinymce" >tinymce</option>
                            <option value="textbus">textbus</option>
                           
                        </select>
                    </div>
               
                </div>
                <footer class="panel-footer text-right bg-light lter">
                    <button type="submit" id="pwdBtn" class="btn btn-success">@ViewBag.msg["submit"]</button>
                </footer>
            </section>
        </form>
    </div>
</div>

@section Footer{
    <script>
        $(function () {
            let md="@ViewBag.md";
            let rt = "@ViewBag.rt";
            $("#mdEditor").val(md)
            $("#rtEditor").val(rt)
            // 修改密码
            //var updatePwdVd = new vd.init("#formData");
            $("#pwdBtn").click(function (e) {
                e.preventDefault();
                //if (!updatePwdVd.valid()) {
                //    return;
                //}
                var md = $("#mdEditor").val();
                var rt = $("#rtEditor").val();

                post("/user/SetEditorPreferences ", { mdOption: md, rtOption: rt }, function (e) {
                    if (e.Ok) {
                        //showAlert("#pwdMsg", getMsg("updatePasswordSuccess"), "success");
                        alert("Success");
                    } else {
                        //showAlert("#pwdMsg", e.Msg, "danger");
                        alert("Fail");
                    }
                }, "#pwdBtn");
            });
        });
    </script>
}