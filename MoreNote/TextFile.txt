{"NoteId":"123123","UserId":456456,"IsBlog":true,"Content":"\u003ch2\u003e一、前言\u003c/h2\u003e\u003ch3\u003e1、本教程主要内容\u003c/h3\u003e\u003cul\u003e\u003cli\u003eASP.NET Core MVC (Razor)分部视图简介\u003c/li\u003e\u003cli\u003eASP.NET Core MVC (Razor)分部视图基础教程\u003c/li\u003e\u003cli\u003eASP.NET Core MVC (Razor)强类型分部视图教程\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e2、本教程环境信息\u003c/h3\u003e\u003ctable class=\"mce-item-table\"\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003e软件/环境\u003c/th\u003e\u003cth\u003e说明\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e操作系统\u003c/td\u003e\u003ctd\u003eWindows 10\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eSDK\u003c/td\u003e\u003ctd\u003e2.1.401\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eASP.NET Core\u003c/td\u003e\u003ctd\u003e2.1.3\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eIDE\u003c/td\u003e\u003ctd\u003eVisual Studio Code 1.30\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e浏览器\u003c/td\u003e\u003ctd\u003eChrome 70\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003cp\u003e本篇代码以下代码进行调整：\u003ca href=\"https://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-06\" target=\"_blank\" rel=\"nofollow\" data-mce-href=\"https://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-06\"\u003ehttps://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-06\u003c/a\u003e\u003c/p\u003e\u003ch3\u003e3、准备工作\u003c/h3\u003e\u003cp\u003eVS Code 本身不提供 ASP.NET Core MVC 视图引擎（Razor）的智能感知。\u003cbr\u003e幸运的是，\u003ca href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\" target=\"_blank\" rel=\"nofollow\" data-mce-href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\"\u003eVS Code C#扩展\u003c/a\u003e\u0026nbsp;从 1.17.0 版本开始支持Razor视图引擎的智能感知。\u003c/p\u003e\u003cp\u003e所以，我们要将\u003ca href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\" target=\"_blank\" rel=\"nofollow\" data-mce-href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\"\u003eVS Code C#扩展\u003c/a\u003e升级到最新版本。\u003c/p\u003e\u003cp\u003e另外，要特意说明的是，在VS Code 1.30版本，解决方案（Solution）视图的视图入口改到了侧边工具栏\u003c/p\u003e\u003cdiv class=\"image-package\"\u003e\u003cdiv class=\"image-container\"\u003e\u003cdiv class=\"image-container-fill\"\u003e\u0026nbsp;\u003c/div\u003e\u003cdiv class=\"image-view\" data-width=\"680\" data-height=\"612\"\u003e\u003cimg id=\"__LEANOTE_D_IMG_1550635036575\" src=\"https://leanote.com/api/file/getImage?fileId=5c6cd023ab644176a20014c9\" alt=\"\" data-original-src=\"//upload-images.jianshu.io/upload_images/13570814-849a334b27ab5289.png\" data-original-width=\"680\" data-original-height=\"612\" data-original-format=\"image/png\" data-original-filesize=\"34203\" data-mce-src=\"https://leanote.com/api/file/getImage?fileId=5c6cd023ab644176a20014c9\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"image-caption\"\u003eimage\u003c/div\u003e\u003c/div\u003e\u003ch2\u003e二、ASP.NET Core MVC (Razor)分部视图简介\u003c/h2\u003e\u003ch3\u003e1、Razor分部视图概述\u003c/h3\u003e\u003cp\u003e在Razor视图引擎中，我们可以定义.cshtml文件作为“视图”来渲染需要呈现给用户的内容。对于所有页面共用的部分，我们可以定义母版页（Layout）让视图继承共用的部分。当有些公共的部分我们只在某些页面用到，不需要每个页面都用到。或者这个公共的内容需要作为模板使用多次，母版页就不适合承担这样的作用。这时候我们可以使用分部视图来实现。\u003c/p\u003e\u003ch3\u003e2、Razor分部视图定义与引用\u003c/h3\u003e\u003ch4\u003eRazor分部视图定义\u003c/h4\u003e\u003cp\u003e视图与分部视图在定义上并没有本质的不同，均是创建.cshtml文件作为视图使用，只是在渲染的时候作为分部视图来渲染/加载。\u003c/p\u003e\u003cp\u003e在之前提到过，通常公共的Razor视图文件名都以_开头并放在\u003ccode\u003e/Views/Shared\u003c/code\u003e文件夹中，分部视图也不例外。\u003c/p\u003e\u003cp\u003e例如:\u003ccode\u003e/Views/Shared/_PartialViewTest.cshtml\u003c/code\u003e\u003c/p\u003e\u003cp\u003e如果分部视图只在某个控制器返回的视图中引用，也可以创建在该控制器对应的视图目录。\u003c/p\u003e\u003cp\u003e例如：\u003ccode\u003e/Views/Home/_PartialViewTest.cshtml\u003c/code\u003e\u003c/p\u003e\u003ch4\u003eRazor分部视图引用\u003c/h4\u003e\u003cpre id=\"leanote_ace_1576887966883_0\" class=\"hljs java ace-tomorrow\"\u003e//同步引用\n\n@Html.Partial(\"_PartialViewTest\")\n\n\n//异步引用(官方推荐)\n\n@await\u0026nbsp;Html.PartialAsync(\"_PartialViewTest\")\u003c/pre\u003e\u003cp\u003e微软官方更推荐使用异步加载的方式，因为同步加载可能会出现程序死锁的情况\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003e如果没有使用异步方式，会收到编译器警告：warning MVC1000: Use of IHtmlHelper.Partial may result in application deadlocks. Consider using \u0026lt;partial\u0026gt; Tag Helper or IHtmlHelper.PartialAsync.\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003e如果你非常在意性能，也可以使用\u0026nbsp;\u003ccode\u003eHtml.RenderPartialAsync\u003c/code\u003e\u0026nbsp;呈现分部视图。 这种方式会直接呈现分部视图的内容，而不会组装成\u0026nbsp;\u003ccode\u003eIHtmlContent\u003c/code\u003e\u0026nbsp;对象放回。\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966893_0\" class=\"hljs python ace-tomorrow\"\u003e@{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;await\u0026nbsp;Html.RenderPartialAsync(\"_PartialViewTest\");\n}\u003c/pre\u003e\u003cp\u003e由于\u0026nbsp;\u003ccode\u003eHtml.RenderPartialAsync\u003c/code\u003e并不会返回任何内容，所以需要在Razor语句块中调用\u003c/p\u003e\u003cp\u003eRazor分部视图查找顺序同视图相同：\u003c/p\u003e\u003cul\u003e\u003cli\u003eViews/[ControllerName]/[PartialViewName].cshtml\u003c/li\u003e\u003cli\u003eViews/Shared/[PartialViewName].cshtml\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e当然，你也可以直接指定完整路径，例如：\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966900_0\" class=\"hljs java ace-tomorrow\"\u003e@await\u0026nbsp;Html.PartialAsync(\"/Views/Home/_PartialViewTest.cshtml\")\u003c/pre\u003e\u003ch2\u003e三、 Razor分部视图基础使用\u003c/h2\u003e\u003ch3\u003e1、定义分部视图\u003c/h3\u003e\u003cp\u003e在\u003ccode\u003e/Views/Shared\u003c/code\u003e目录下创建视图 '_DateTimeInfo.cshtml'\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966908_0\" class=\"hljs java ace-tomorrow\"\u003e当前时间：@DateTime.Now.ToString(\"yyyy-MM-dd\u0026nbsp;HH:mm:ss:fff\")\u0026nbsp;\n当前星期：@DateTime.Now.DayOfWeek\u003c/pre\u003e\u003ch3\u003e2、创建视图并引用分部视图\u003c/h3\u003e\u003cp\u003e在\u003ccode\u003e/Views\u003c/code\u003e目录下创建目录\u003ccode\u003ePartial\u003c/code\u003e，并在\u003ccode\u003e/Views/Partial\u003c/code\u003e\u0026nbsp;目录下创建文件\u0026nbsp;\u003ccode\u003eDemo.cshtml\u003c/code\u003e\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966917_0\" class=\"hljs xml ace-tomorrow\"\u003e@{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;ViewBag.Title\u0026nbsp;=\u0026nbsp;\"PartialView\u0026nbsp;Demo\";\n}\n\u0026lt;h3\u0026gt;@ViewBag.Title\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;PartialView\u0026nbsp;Demo\u0026nbsp;by\u0026nbsp;ken.io\u0026lt;/p\u0026gt;\n\n@Html.Partial(\"_DateTimeInfo\")\n\n\u0026lt;hr/\u0026gt;\n\n@await\u0026nbsp;Html.PartialAsync(\"_DateTimeInfo\")\u003c/pre\u003e\u003ch3\u003e3、创建控制器\u003c/h3\u003e\u003cp\u003e在\u0026nbsp;\u003ccode\u003e/Controllers\u003c/code\u003e\u0026nbsp;目录下创建\u003ccode\u003ePartialController.cs\u003c/code\u003e并创建对应Action\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966926_0\" class=\"hljs cpp ace-tomorrow\"\u003eusing\u0026nbsp;System;\nusing\u0026nbsp;Microsoft.AspNetCore.Mvc;\n\nnamespace\u0026nbsp;Ken.Tutorial.Web.Controllers\n{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;public\u0026nbsp;class\u0026nbsp;PartialController\u0026nbsp;:\u0026nbsp;Controller\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;public\u0026nbsp;IActionResult\u0026nbsp;Demo()\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;return\u0026nbsp;View();\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;}\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;}\n}\u003c/pre\u003e\u003ch3\u003e4、访问测试\u003c/h3\u003e\u003cp\u003e启动项目，访问\u0026nbsp;\u003ccode\u003e/partial/demo\u003c/code\u003e\u0026nbsp;，将会看到\u003c/p\u003e\u003cdiv class=\"image-package\"\u003e\u003cdiv class=\"image-container\"\u003e\u003cdiv class=\"image-container-fill\"\u003e\u0026nbsp;\u003c/div\u003e\u003cdiv class=\"image-view\" data-width=\"1150\" data-height=\"740\"\u003e\u003cimg id=\"__LEANOTE_D_IMG_1550635036576\" src=\"https://leanote.com/api/file/getImage?fileId=5c6cd023ab644176a20014ca\" alt=\"\" data-original-src=\"//upload-images.jianshu.io/upload_images/13570814-161fc985fae2dda2.png\" data-original-width=\"1150\" data-original-height=\"740\" data-original-format=\"image/png\" data-original-filesize=\"43725\" data-mce-src=\"https://leanote.com/api/file/getImage?fileId=5c6cd023ab644176a20014ca\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"image-caption\"\u003eimage\u003c/div\u003e\u003c/div\u003e\u003ch2\u003e四、带参数的Razor分部视图\u003c/h2\u003e\u003ch3\u003e1、视图对象准备\u003c/h3\u003e\u003cp\u003e在项目根目录中创建模型目录\u003ccode\u003eModels\u003c/code\u003e，并在下面创建对象\u003ccode\u003eNoteViewModel.cs\u003c/code\u003e\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966935_0\" class=\"hljs cpp ace-tomorrow\"\u003eusing\u0026nbsp;System;\n\nnamespace\u0026nbsp;Ken.Tutorial.Web.Models\n{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;public\u0026nbsp;class\u0026nbsp;NoteViewModel\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;public\u0026nbsp;string\u0026nbsp;Title\u0026nbsp;{\u0026nbsp;get;\u0026nbsp;set;\u0026nbsp;}\n\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;public\u0026nbsp;DateTime\u0026nbsp;PublishTime\u0026nbsp;{\u0026nbsp;get;\u0026nbsp;set;\u0026nbsp;}\n\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;public\u0026nbsp;string\u0026nbsp;Body\u0026nbsp;{\u0026nbsp;get;\u0026nbsp;set;\u0026nbsp;}\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;}\n}\u003c/pre\u003e\u003ch3\u003e2、定义分部视图\u003c/h3\u003e\u003cp\u003e在\u003ccode\u003e/Views/Shared\u003c/code\u003e目录下创建视图 '_NoteInfo.cshtml'\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966944_0\" class=\"hljs xml ace-tomorrow\"\u003e@model\u0026nbsp;Ken.Tutorial.Web.Models.NoteViewModel;\n\n\u0026lt;h3\u0026gt;@Model.Title\u0026lt;/h3\u0026gt;\n\u0026lt;span\u0026gt;@Model.PublishTime.ToString(\"yyyy-MM-dd\")\u0026lt;/span\u0026gt;\n\u0026lt;p\u0026gt;@Model.Body\u0026lt;/p\u0026gt;\u003c/pre\u003e\u003cp\u003e实际上就是创建强类型分部视图:-D\u003c/p\u003e\u003ch3\u003e3、创建视图并引用分部视图\u003c/h3\u003e\u003cp\u003e在\u003ccode\u003e/Views/Partial\u003c/code\u003e\u0026nbsp;目录下创建文件\u0026nbsp;\u003ccode\u003eDemoWithParams.cshtml\u003c/code\u003e\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966952_0\" class=\"hljs php ace-tomorrow\" draggable=\"false\"\u003e@using\u0026nbsp;Ken.Tutorial.Web.Models;\n@{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;ViewBag.Title\u0026nbsp;=\u0026nbsp;\"PartialView\u0026nbsp;With\u0026nbsp;Params\u0026nbsp;Demo\";\n}\n\u0026lt;h3\u0026gt;@ViewBag.Title\u0026lt;/h3\u0026gt;\n\u0026lt;p\u0026gt;PartialView\u0026nbsp;With\u0026nbsp;Params\u0026nbsp;Demo\u0026nbsp;by\u0026nbsp;ken.io\u0026lt;/p\u0026gt;\n\n@await\u0026nbsp;Html.PartialAsync(\"_NoteInfo\",\u0026nbsp;new\u0026nbsp;NoteViewModel()\u0026nbsp;{\u0026nbsp;Title\u0026nbsp;=\u0026nbsp;\"这是一个分部视图测试笔记\",\u0026nbsp;PublishTime\u0026nbsp;=\u0026nbsp;DateTime.Now,\u0026nbsp;Body\u0026nbsp;=\u0026nbsp;\"这是笔记的内容\"\u0026nbsp;\u0026nbsp;})\u003c/pre\u003e\u003ch3\u003e4、在控制器中编写对应Action\u003c/h3\u003e\u003cp\u003e在控制器\u0026nbsp;\u003ccode\u003ePartialController.cs\u003c/code\u003e\u0026nbsp;中增加以下 Action：\u003c/p\u003e\u003cpre id=\"leanote_ace_1576887966961_0\" class=\"hljs cpp ace-tomorrow\"\u003epublic\u0026nbsp;IActionResult\u0026nbsp;DemoWithParams()\n{\n\u0026nbsp;\u0026nbsp;\u0026nbsp;\u0026nbsp;return\u0026nbsp;View();\n}\u003c/pre\u003e\u003ch3\u003e5、访问测试\u003c/h3\u003e\u003cp\u003e启动项目，访问\u0026nbsp;\u003ccode\u003e/partial/demowithparams\u003c/code\u003e\u0026nbsp;，将会看到\u003c/p\u003e\u003cdiv class=\"image-package\"\u003e\u003cdiv class=\"image-container\"\u003e\u003cdiv class=\"image-container-fill\"\u003e\u0026nbsp;\u003c/div\u003e\u003cdiv class=\"image-view\" data-width=\"1078\" data-height=\"712\"\u003e\u003cimg id=\"__LEANOTE_D_IMG_1550635036577\" src=\"https://leanote.com/api/file/getImage?fileId=5c6cd023ab644176a20014c8\" alt=\"\" data-original-src=\"//upload-images.jianshu.io/upload_images/13570814-8e57942c8a3f1447.png\" data-original-width=\"1078\" data-original-height=\"712\" data-original-format=\"image/png\" data-original-filesize=\"42403\" data-mce-src=\"https://leanote.com/api/file/getImage?fileId=5c6cd023ab644176a20014c8\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"image-caption\"\u003eimage\u003c/div\u003e\u003c/div\u003e\u003cp\u003e如果是文章列表页，用起来会显得更方便。\u003c/p\u003e\u003ch2\u003e五、备注\u003c/h2\u003e\u003ch3\u003e1、附录\u003c/h3\u003e\u003cul\u003e\u003cli\u003e本文代码示例\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003ca href=\"https://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-07\" target=\"_blank\" rel=\"nofollow\" data-mce-href=\"https://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-07\"\u003ehttps://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-07\u003c/a\u003e\u003c/p\u003e\u003cul\u003e\u003cli\u003e本文参考\u003c/li\u003e\u003c/ul\u003e\u003cp\u003e\u003ca href=\"https://docs.microsoft.com/zh-cn/aspnet/core/mvc/views/partial?view=aspnetcore-2.1\" target=\"_blank\" rel=\"nofollow\" data-mce-href=\"https://docs.microsoft.com/zh-cn/aspnet/core/mvc/views/partial?view=aspnetcore-2.1\"\u003ehttps://docs.microsoft.com/zh-cn/aspnet/core/mvc/views/partial?view=aspnetcore-2.1\u003c/a\u003e\u003c/p\u003e","Abstract":"\u003ch2\u003e一、前言\u003c/h2\u003e\u003ch3\u003e1、本教程主要内容\u003c/h3\u003e\u003cul\u003e\u003cli\u003eASP.NET Core MVC (Razor)分部视图简介\u003c/li\u003e\u003cli\u003eASP.NET Core MVC (Razor)分部视图基础教程\u003c/li\u003e\u003cli\u003eASP.NET Core MVC (Razor)强类型分部视图教程\u003c/li\u003e\u003c/ul\u003e\u003ch3\u003e2、本教程环境信息\u003c/h3\u003e\u003ctable class=\"mce-item-table\"\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003e软件/环境\u003c/th\u003e\u003cth\u003e说明\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003e操作系统\u003c/td\u003e\u003ctd\u003eWindows 10\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eSDK\u003c/td\u003e\u003ctd\u003e2.1.401\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eASP.NET Core\u003c/td\u003e\u003ctd\u003e2.1.3\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eIDE\u003c/td\u003e\u003ctd\u003eVisual Studio Code 1.30\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003e浏览器\u003c/td\u003e\u003ctd\u003eChrome 70\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e\u003cp\u003e本篇代码以下代码进行调整：\u003ca href=\"https://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-06\" target=\"_blank\" rel=\"nofollow\" data-mce-href=\"https://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-06\"\u003ehttps://github.com/ken-io/asp.net-core-tutorial/tree/master/chapter-06\u003c/a\u003e\u003c/p\u003e\u003ch3\u003e3、准备工作\u003c/h3\u003e\u003cp\u003eVS Code 本身不提供 ASP.NET Core MVC 视图引擎（Razor）的智能感知。\u003cbr\u003e幸运的是，\u003ca href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\" target=\"_blank\" rel=\"nofollow\" data-mce-href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\"\u003eVS Code C#扩展\u003c/a\u003e\u0026nbsp;从 1.17.0 版本开始支持Razor视图引擎的智能感知。\u003c/p\u003e\u003cp\u003e所以，我们要将\u003ca href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\" target=\"_blank\" rel=\"nofollow\" data-mce-href=\"https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp\"\u003eVS Code C#扩展\u003c/a\u003e升级到最新版本。\u003c/p\u003e\u003cp\u003e另外，要特意说明的是，在VS Code 1.30版本，解决方案（Solution）视图的视图入口改到了侧边工具栏\u003c/p\u003e\u003cdiv class=\"image-package\"\u003e\u003cdiv class=\"image-container\"\u003e\u003cdiv class=\"image-container-fill\"\u003e\u0026nbsp;\u003c/div\u003e\u003cdiv class=\"image-view\" data-width=\"680\" data-height=\"612\"\u003e\u003cimg id=\"__LEANOTE_D_IMG_1550635036575\" src=\"https://leanote.com/api/file/getImage?fileId=5c6cd023ab644176a20014c9\" alt=\"\" data-original-src=\"//upload-images.jianshu.io/upload_images/13570814-849a334b27ab5289.png\" data-original-width=\"680\" data-original-height=\"612\" data-original-format=\"image/png\" data-original-filesize=\"34203\" data-mce-src=\"https://leanote.com/api/file/getImage?fileId=5c6cd023ab644176a20014c9\"\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"image-caption\"\u003eimage\u003c/div\u003e\u003c/div\u003e\u003ch2\u003e二、ASP.NET Core MVC (Razor)分部视图简介\u003c/h2\u003e\u003ch3\u003e1、Razor分部视图概述\u003c/h3\u003e\u003cp\u003e在Razor视图引擎中，我们可以定义.cshtml文件作为“视图”来渲染需要呈现给用户的内容。对于所有页面共用的部分，我们可以定义母版页（Layout）让视图继承共用的部分。当有些公共的部分我们只在某些页面用到，不需要每个页面都用到。或者这个公共的内容需要作为模板使用多次，母版页就不适合承担这样的作用。这时候我们可以使用分部视图来实现。\u003c/p\u003e\u003ch3\u003e2、Razor分部视图定义与引用\u003c/h3\u003e\u003ch4\u003eRazor分部视图定义\u003c/h4\u003e\u003cp\u003e视图与分部视图在定义上并没有本质的不同，均是创建.cshtml文件作为视图使用，只是在渲染的时候作为分部视图来渲染/加载。\u003c/p\u003e\u003cp\u003e在之前提到过，通常公共的Razor视图文件名都以_开头并放在\u003ccode\u003e/Views/Shared\u003c/code\u003e文件夹中，分部视图也不例外。\u003c/p\u003e\u003cp\u003e例如:\u003ccode\u003e/Views/Shared/_PartialViewTest.cshtml\u003c/code\u003e\u003c/p\u003e\u003cp\u003e如果分部视图只在某个控制器返回的视图中引用，也可以创建在该控制器对应的视图目录。\u003c/p\u003e\u003cp\u003e例如：\u003ccode\u003e/Views/Home/_PartialViewTest.cshtml\u003c/code\u003e\u003c/p\u003e\u003ch4\u003eRazor分部视图引用\u003c/h4\u003e\u003cpre id=\"leanote_ace_1576887966883_0\" class=\"hljs java ace-tomorrow\"\u003e//同步引用\n\n@Html.Partial(\"_PartialView\u003c/pre\u003e","CreatedTime":"2019-02-20T11:57:20+08:00","UpdatedTime":"2019-12-21","UpdatedUserId":12345}